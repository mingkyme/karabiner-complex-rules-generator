(this["webpackJsonpkarabiner-complex-rules-generator"]=this["webpackJsonpkarabiner-complex-rules-generator"]||[]).push([[0],{83:function(e,a,t){e.exports=t(98)},88:function(e,a,t){},89:function(e,a,t){},98:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),o=t(13),i=t.n(o),r=(t(88),t(89),t(90),t(149)),u=t(147),c=t(150),d=t(148),s=t(102),m=t(152),v=t(6),f=t(158),p=t(101),_=t(8),b=function(e){var a=(0|e)%100;return a>3&&a<21?"th":["th","st","nd","rd"][a%10]||"th"},y=function(e){return"".concat(e).concat(b(e))},E=function(e){for(var a=e.toLowerCase().split("_"),t=0;t<a.length;t++)a[t]=a[t][0].toUpperCase()+a[t].slice(1);return a.join(" ")},h=t(142),k=t(143),g=t(153),O=t(161),j=t(157),C=t(139),x=t(67),I=t.n(x),w=function(e){var a=e.title,t=e.children,n=e.panelProps,o=void 0===n?{}:n;return l.a.createElement(j.a,Object.assign({},o,{"aria-label":"Expand","aria-controls":"additional-actions3-content"}),l.a.createElement(C.a,{expandIcon:l.a.createElement(I.a,null)},a),l.a.createElement(m.a,{p:2},t))},S=t(145),T=function(e){var a,t,n=e.condition,o=e.setConditionState;return l.a.createElement(m.a,null,l.a.createElement(m.a,null,!!(null===n||void 0===n?void 0:null===(a=n.bundle_identifiers)||void 0===a?void 0:a.length)&&l.a.createElement(w,{panelProps:{defaultExpanded:!0},title:"Bundle Identifiers"},n.bundle_identifiers.map((function(e,a){return l.a.createElement(f.a,{key:a,value:e,fullWidth:!0,variant:"filled",label:"Regex Bundle Identifier ".concat(a+1),onChange:function(e){!function(e,a){var t=Object(v.a)({},n),l=Object(_.a)(t.bundle_identifiers);l[e]=a,t.bundle_identifiers=l,o(t)}(a,e.target.value)}})}))),!!(null===n||void 0===n?void 0:null===(t=n.file_paths)||void 0===t?void 0:t.length)&&l.a.createElement(w,{panelProps:{defaultExpanded:!0},title:"File Paths"},n.file_paths.map((function(e,a){return l.a.createElement(f.a,{key:a,value:e,fullWidth:!0,variant:"filled",label:"Regex File Path ".concat(a+1),onChange:function(e){!function(e,a){var t=Object(v.a)({},n),l=Object(_.a)(t.file_paths);l[e]=a,t.file_paths=l,o(t)}(a,e.target.value)}})})))),l.a.createElement(m.a,{mt:2},l.a.createElement(S.a,null,l.a.createElement(p.a,{variant:"contained",color:"primary",onClick:function(){var e=Object(v.a)({},n);e.bundle_identifiers=e.bundle_identifiers||[];var a=Object(_.a)(e.bundle_identifiers);a.push(""),e.bundle_identifiers=a,o(e)}},"Add Bundle Identifier"),l.a.createElement(p.a,{variant:"contained",color:"primary",onClick:function(){var e=Object(v.a)({},n);e.file_paths=e.file_paths||[];var a=Object(_.a)(e.file_paths);a.push(""),e.file_paths=a,o(e)}},"Add File Path"))))},F=t(10),A=t(146),K=t(156),W=function(e){var a,t=e.condition,n=e.setConditionState,o=function(e,a){var l=Object(v.a)({},t),o=Object(_.a)(l.identifiers);o[a]=e,l.identifiers=o,n(l)};return l.a.createElement(m.a,null,l.a.createElement(m.a,null,!!(null===t||void 0===t?void 0:null===(a=t.identifiers)||void 0===a?void 0:a.length)&&l.a.createElement(w,{panelProps:{defaultExpanded:!0},title:"Device Identifiers"},t.identifiers.map((function(e,a){return l.a.createElement(w,{title:"".concat(y(a+1)," Device Identifier"),key:a},["vendor_id","product_id","location_id"].map((function(t){return l.a.createElement(f.a,{key:t,fullWidth:!0,label:E(t)+" (Optional)",variant:"filled",value:e[t],onChange:function(n){o(Object(v.a)({},e,Object(F.a)({},t,n.target.value)),a)}})})),l.a.createElement(A.a,{control:l.a.createElement(K.a,{checked:!!e.is_keyboard,onChange:function(t){o(Object(v.a)({},e,{is_keyboard:t.target.checked}),a)}}),label:"Is Keyboard?"}),l.a.createElement(A.a,{control:l.a.createElement(K.a,{checked:!!e.is_pointing_device,onChange:function(t){o(Object(v.a)({},e,{is_pointing_device:t.target.checked}),a)}}),label:"Is Pointing Device?"}))})))),l.a.createElement(m.a,{mt:2},l.a.createElement(S.a,null,l.a.createElement(p.a,{variant:"contained",color:"primary",onClick:function(){var e=Object(v.a)({},t);e.identifiers=e.identifiers||[];var a=Object(_.a)(e.identifiers);a.push(""),e.identifiers=a,n(e)}},"Add Device Identifiers"))))},D=t(154),M=function(e){var a=e.condition,t=e.setConditionState;return l.a.createElement(m.a,null,l.a.createElement(m.a,null,l.a.createElement(D.a,{options:["ansi","iso","jis"],multiple:!0,freeSolo:!0,value:a.keyboard_types,onChange:function(e,n){t(Object(v.a)({},a,{keyboard_types:n}))},autoHighlight:!0,renderInput:function(e){return l.a.createElement(f.a,Object.assign({},e,{variant:"filled",fullWidth:!0,label:"Keyboard Type"}))}})))},R=function(e){var a=e.condition,t=e.setConditionState;return l.a.createElement(m.a,null,l.a.createElement(f.a,{fullWidth:!0,label:"Variable Name",variant:"filled",value:a.name,onChange:function(e){t(Object(v.a)({},a,{name:e.target.value}))}}),l.a.createElement(f.a,{fullWidth:!0,label:"Variable Value",variant:"filled",value:a.value,onChange:function(e){t(Object(v.a)({},a,{value:e.target.value}))}}))},P=function(e){e.condition,e.setConditionState;return l.a.createElement(m.a,null,"Unknown")},L=t(100),B=t(160),N=t(155),U=function(e){var a=e.condition,t=e.setConditionState;return l.a.createElement(m.a,{mt:2},l.a.createElement(h.a,{component:"fieldset"},l.a.createElement(L.a,{component:"legend"},"Value"),l.a.createElement(B.a,{defaultValue:"true",onChange:function(e){t(Object(v.a)({},a,{value:e.target.value}))}},l.a.createElement(A.a,{label:"true",value:"true",control:l.a.createElement(N.a,null)}),l.a.createElement(A.a,{label:"false",value:"false",control:l.a.createElement(N.a,null)}))))},J=["frontmost_application_if","frontmost_application_unless","device_if","device_unless","keyboard_type_if","keyboard_type_unless","input_source_if","input_source_unless","variable_if","variable_unless","event_changed_if","event_changed_unless"],H=function(e){var a=e.condition,t=e.index,n=e.setManipulator,o=e.manipulator,i=function(e){var a=Object(v.a)({},o),l=Object(_.a)(o.conditions);l[t]=e,a.conditions=l,n(a)};return l.a.createElement(w,{panelProps:{defaultExpanded:0===t},title:"".concat(y(t+1)," Condition")},l.a.createElement(h.a,{fullWidth:!0,variant:"filled"},l.a.createElement(k.a,{id:"condition_type"},"Condition Type"),l.a.createElement(g.a,{labelId:"condition_type",value:a.type,onChange:function(e){i(Object(v.a)({},a,{type:e.target.value}))}},J.map((function(e){return l.a.createElement(O.a,{value:e,key:e},E(e))})))),l.a.createElement(f.a,{fullWidth:!0,variant:"filled",label:"Condition Description (optional)",value:a.description,onChange:function(e){i(Object(v.a)({},a,{description:e.target.value}))}}),0===a.type.indexOf("frontmost")&&l.a.createElement(T,{condition:a,setConditionState:i}),0===a.type.indexOf("device")&&l.a.createElement(W,{condition:a,setConditionState:i}),0===a.type.indexOf("keyboard")&&l.a.createElement(M,{condition:a,setConditionState:i}),0===a.type.indexOf("input_source")&&l.a.createElement(P,{condition:a,setConditionState:i}),0===a.type.indexOf("variable")&&l.a.createElement(R,{condition:a,setConditionState:i}),0===a.type.indexOf("event_changed")&&l.a.createElement(U,{condition:a,setConditionState:i}))},V=[{label:"Function key",value:"fn"},{label:"Left Command",value:"left_gui"},{label:"Right Command",value:"right_gui"},{label:"Left Control",value:"left_control"},{label:"Right Control",value:"right_control"},{label:"Left Alt / Option",value:"left_alt"},{label:"Right Alt / Option",value:"right_alt"},{label:"Left Shift",value:"left_shift"},{label:"Right Shift",value:"right_shift"}],z=[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"},{label:"8",value:"8"},{label:"9",value:"9"},{label:"0",value:"0"},{label:"A",value:"a"},{label:"B",value:"b"},{label:"C",value:"c"},{label:"D",value:"d"},{label:"E",value:"e"},{label:"F",value:"f"},{label:"G",value:"g"},{label:"H",value:"h"},{label:"I",value:"i"},{label:"J",value:"j"},{label:"K",value:"k"},{label:"L",value:"l"},{label:"M",value:"m"},{label:"N",value:"n"},{label:"O",value:"o"},{label:"P",value:"p"},{label:"Q",value:"q"},{label:"R",value:"r"},{label:"S",value:"s"},{label:"T",value:"t"},{label:"U",value:"u"},{label:"V",value:"v"},{label:"W",value:"w"},{label:"X",value:"x"},{label:"Y",value:"y"},{label:"Z",value:"z"},{label:"F1",value:"f1"},{label:"F2",value:"f2"},{label:"F3",value:"f3"},{label:"F4",value:"f4"},{label:"F5",value:"f5"},{label:"F6",value:"f6"},{label:"F7",value:"f7"},{label:"F8",value:"f8"},{label:"F9",value:"f9"},{label:"F10",value:"f10"},{label:"F11",value:"f11"},{label:"F12",value:"f12"},{label:"F13",value:"f13"},{label:"F14",value:"f14"},{label:"F15",value:"f15"},{label:"F16",value:"f16"},{label:"F17",value:"f17"},{label:"F18",value:"f18"},{label:"F19",value:"f19"},{label:"F20",value:"f20"},{label:"Escape",value:"escape"},{label:"` Grave Accent, Tilde",value:"grave_accent_and_tilde"},{label:"Tab key",value:"tab"},{label:"Caps Lock",value:"caps_lock"},{label:"Spacebar",value:"spacebar"},{label:"Up Arrow",value:"up_arrow"},{label:"Left Arrow",value:"left_arrow"},{label:"Down Arrow",value:"down_arrow"},{label:"Right Arrow",value:"right_arrow"},{label:"Enter",value:"return_or_enter"},{label:" (Backslash)",value:"backslash"},{label:"[ (Open Bracket)",value:"open_bracket"},{label:"] (Close Bracket)",value:"close_bracket"},{label:"; (Semicolon)",value:"semicolon"},{label:"' (Quote)",value:"quote"},{label:", (Comma)",value:"comma"},{label:". (Period)",value:"period"},{label:"/ (Slash)",value:"slash"},{label:"- (Dash or Hyphen)",value:"hyphen"},{label:"= (Equal)",value:"equal_sign"},{label:"Delete or Backspace",value:"delete_or_backspace"},{label:"Decrease Screen Brightness",value:"display_brightness_decrement"},{label:"Increase Screen Brightness",value:"display_brightness_increment"},{label:"Mission Control",value:"mission_control"},{label:"Launchpad",value:"launchpad"},{label:"Keyboard Brightness Decrease",value:"illumination_decrement"},{label:"Keyboard Brightness Increase",value:"illumination_increment"},{label:"Rewind / Previous",value:"rewind"},{label:"Play or Pause",value:"play_or_pause"},{label:"Fastforward / Next",value:"fastforward"},{label:"Mute",value:"mute"},{label:"Volume Down",value:"volume_decrement"},{label:"Volume Up",value:"volume_increment"},{label:"Keypad 0",value:"keypad_0"},{label:"Keypad 1",value:"keypad_1"},{label:"Keypad 2",value:"keypad_2"},{label:"Keypad 3",value:"keypad_3"},{label:"Keypad 4",value:"keypad_4"},{label:"Keypad 5",value:"keypad_5"},{label:"Keypad 6",value:"keypad_6"},{label:"Keypad 7",value:"keypad_7"},{label:"Keypad 8",value:"keypad_8"},{label:"Keypad 9",value:"keypad_9"}],q=[].concat(V,z),G=function(e){var a=e.value,t=void 0===a?[]:a,n=e.onChange,o=void 0===n?function(e){}:n,i=e.modifiers,r=void 0!==i&&i,u=e.keyCodes,c=void 0!==u&&u,d=e.multiple,s=void 0===d||d,m=e.autoHighlight,v=void 0!==m&&m,p=e.freeSolo,b=void 0===p||p,y=e.label,E=void 0===y?"keys":y,h=[],k=[];return c&&(h=[].concat(Object(_.a)(h),Object(_.a)(z)),k.push("Key Codes")),r&&(h=[].concat(Object(_.a)(h),Object(_.a)(V)),k.push("Modifiers")),l.a.createElement(D.a,{multiple:s,freeSolo:b,options:h,getOptionLabel:function(e){return("object"===typeof e?e.label:e)||""},value:"string"===typeof t?[t]:t,onChange:o,autoHighlight:v,renderInput:function(e){return l.a.createElement(f.a,Object.assign({},e,{variant:"filled",label:E,placeholder:k.join(", "),fullWidth:!0}))}})},Q=t(15),Y=[{label:"None",value:""},{label:"Left Click",value:"button1"},{label:"Right Click",value:"button2"},{label:"Middle Click",value:"button3"},{label:"Mouse 4",value:"button4"},{label:"Mouse 5",value:"button5"}],X=function(e){var a=e.eventObject,t=void 0===a?{}:a,o=e.setEventObject,i=void 0===o?function(e){}:o,r=Object(n.useState)({keyCode:!1,consumerKeyCode:!1}),u=Object(Q.a)(r,2),c=u[0],d=u[1];return Object(n.useEffect)((function(){var e={keyCode:!!t.key_code,consumerKeyCode:!!t.consumer_key_code};console.log(t.key_code),d(e)}),[t.consumer_key_code,t.key_code]),Object(n.useMemo)((function(){return l.a.createElement(m.a,{marginBottom:2},l.a.createElement(S.a,null,l.a.createElement(p.a,{disabled:c.keyCode,variant:"contained",onClick:function(){d(Object(v.a)({},c,{keyCode:!0,consumerKeyCode:!1}))}},"Key Code"),l.a.createElement(p.a,{disabled:c.consumerKeyCode,variant:"contained",onClick:function(){d(Object(v.a)({},c,{keyCode:!1,consumerKeyCode:!0}))}},"Consumer Key Code"),l.a.createElement(p.a,{variant:"contained",onClick:function(){d(Object(v.a)({},c,{keyCode:!1,consumerKeyCode:!1}))},disabled:!(c.keyCode||c.consumerKeyCode),color:"secondary"},"Disable")),l.a.createElement(m.a,{marginBottom:1},c.keyCode&&l.a.createElement(m.a,{marginTop:2,marginBottom:3},l.a.createElement(G,{keyCodes:!0,modifiers:!0,multiple:!1,value:t.key_code,autoHighlight:!1,label:"Key Code (optional)",onChange:function(e,a){i(Object(v.a)({},t,{key_code:"string"===typeof a?{label:a,value:a}:a}))}})),c.consumerKeyCode&&l.a.createElement(f.a,{placeholder:"",margin:"normal",variant:"filled",label:"Consumer Key Code (optional)",fullWidth:!0,value:t.consumer_key_code||"",onChange:function(e){i(Object(v.a)({},t,{consumer_key_code:e.currentTarget.value}))}})),l.a.createElement(m.a,{mt:2,mb:3},l.a.createElement(h.a,{variant:"filled",fullWidth:!0},l.a.createElement(k.a,{id:"type"},"Pointing Button (optional)"),l.a.createElement(g.a,{labelId:"type",value:t.pointing_button||"",onChange:function(e){i(Object(v.a)({},t,{pointing_button:e.target.value||""}))}},Y.map((function(e){var a=e.label,t=e.value;return l.a.createElement(O.a,{value:t,key:t},a)}))))))}),[c,t])},Z=t(19),$=t(70),ee={type:"basic",from:{modifiers:{mandatory:[],optional:[]},simultaneous:[],simultaneous_options:{detect_key_down_uninterruptedly:!1,to_after_key_up:[]}},conditions:[],to:[],to_after_key_up:[],to_if_alone:[],to_if_held_down:[],to_delayed_action:{to_if_invoked:[],to_if_canceled:[]}},ae=function(){return{description:"",manipulators:[ee]}},te={title:"",rules:[ae()]},ne=function(e){return{type:"SET_WHOLE_STATE",payload:{state:e}}},le=function(e){return{type:"SET_MANIPULATOR",payload:{ruleIndex:e.ruleIndex,index:e.index,manipulator:e.manipulator}}},oe=function(e){return{type:"ADD_TO_OBJECT",payload:{ruleIndex:e.ruleIndex,manipulatorIndex:e.manipulatorIndex,toField:e.toField}}},ie=t(71),re=t.n(ie),ue=function(e){var a=e.toObject,t=e.setToObject,o=e.removeToObject,i=e.index,r=e.toField,u=Object(n.useState)({keyCode:!1,consumerKeyCode:!1,pointingButton:!1,simultaneous:!1,simultaneousOptions:!1}),c=Object(Q.a)(u,2),d=c[0];c[1];return Object(n.useEffect)((function(){var e,t,n=Object(v.a)({},a);("disabled"===n.pointing_button&&delete n.pointing_button,!d.keyCode&&n.key_code)?delete n.key_code:n.key_code=null===(t=n.key_code)||void 0===t?void 0:t.value;!d.consumerKeyCode&&n.consumer_key_code&&delete n.consumer_key_code,(null===(e=n.modifiers)||void 0===e?void 0:e.length)?("string"===typeof n.modifiers&&(n.modifiers=[n.modifiers]),n.modifiers=n.modifiers.map((function(e){return e.value}))):delete n.modifiers,!1===n.lazy&&delete n.lazy,!0===n.repeat&&delete n.repeat,!1===n.halt&&delete n.halt}),[a,d]),l.a.createElement(w,{title:"".concat(i+1).concat(b(i+1),' "').concat(E(r),'" Event')},l.a.createElement(m.a,{className:"form-container"},l.a.createElement(X,{setEventObject:t,eventObject:a}),l.a.createElement(G,{freeSolo:!1,modifiers:!0,value:a.modifiers,label:"Modifiers",onChange:function(e,n){t(Object(v.a)({},a,{modifiers:n.map((function(e){return"string"===typeof e?{label:e,value:e}:e}))}))}}),l.a.createElement(h.a,{fullWidth:!0},l.a.createElement(L.a,null,"Additional Options"),l.a.createElement(A.a,{label:"Lazy",control:l.a.createElement(K.a,{checked:!!a.lazy,onChange:function(e){t(Object(v.a)({},a,{lazy:e.target.checked}))}})}),l.a.createElement(A.a,{label:"Repeat",control:l.a.createElement(K.a,{checked:!!a.repeat,onChange:function(e){t(Object(v.a)({},a,{repeat:e.target.checked}))}})}),l.a.createElement(A.a,{label:"Halt",control:l.a.createElement(K.a,{checked:!!a.halt,onChange:function(e){t(Object(v.a)({},a,{halt:e.target.checked}))}})})),l.a.createElement(p.a,{color:"secondary",variant:"contained",onClick:function(){return o()},startIcon:l.a.createElement(re.a,null)},"Remove")))},ce=["none","insensitive","strict","strict_inverse"],de=["none","any","all"],se=function(e){var a=e.fromObject,t=e.ruleIndex,o=e.manipulatorIndex,i=Object(Z.b)(),r=function(e){var a;i({type:"SET_FROM_OBJECT",payload:{ruleIndex:(a={ruleIndex:t,manipulatorIndex:o,fromObject:e}).ruleIndex,manipulatorIndex:a.manipulatorIndex,fromObject:a.fromObject}})},u=function(e,t,n){r(Object(v.a)({},a,{modifiers:Object(v.a)({},a.modifiers,Object(F.a)({},n,t.map((function(e){return"string"===typeof e?{label:e,value:e}:e}))))}))};return Object(n.useMemo)((function(){var e,t,n,o,i,c,d,s,f;return l.a.createElement(m.a,{className:"form-container"},l.a.createElement(X,{setEventObject:r,eventObject:a}),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(G,{modifiers:!0,value:(null===(e=a.modifiers)||void 0===e?void 0:e.mandatory)||[],label:"Mandatory Modifiers (optional)",onChange:function(e,a){return u(0,a,"mandatory")}})),l.a.createElement("div",null,l.a.createElement(G,{modifiers:!0,keyCodes:!0,value:(null===(t=a.modifiers)||void 0===t?void 0:t.optional)||[],label:"Optional Modifiers (optional)",onChange:function(e,a){return u(0,a,"optional")}}))),l.a.createElement(m.a,null,null===(n=a.simultaneous)||void 0===n?void 0:n.map((function(e,t){return l.a.createElement(w,{key:t,panelProps:{defaultExpanded:0===t},title:"".concat(y(t+1)," Simultaneous Event")},l.a.createElement(X,{eventObject:e,setEventObject:function(e){var n,l=Object(v.a)({},a);if(null===l||void 0===l?void 0:null===(n=l.simultaneous)||void 0===n?void 0:n.length){var o=Object(_.a)(l.simultaneous);o[t]=e,l.simultaneous=o,r(l)}}}),l.a.createElement(p.a,{variant:"contained",color:"secondary",onClick:function(){var e,n=Object(v.a)({},a);if(null===n||void 0===n?void 0:null===(e=n.simultaneous)||void 0===e?void 0:e.length){var l=Object(_.a)(n.simultaneous);l.splice(t,1),n.simultaneous=l,r(n)}}},"Remove Simultaneous"))})),l.a.createElement(m.a,{mt:1,mb:1},l.a.createElement(p.a,{variant:"contained",color:"default",fullWidth:!0,onClick:function(){return function(){var e=Object(v.a)({},a);e.simultaneous=e.simultaneous||[],e.simultaneous=[].concat(Object(_.a)(e.simultaneous),[{}]),r(e)}()}},"Add Simultaneous Event"))),l.a.createElement(m.a,null,l.a.createElement(w,{title:"Simultaneous Options"},l.a.createElement(A.a,{control:l.a.createElement(K.a,{checked:!!(null===a||void 0===a?void 0:null===(o=a.simultaneous_options)||void 0===o?void 0:o.detect_key_down_uninterruptedly),onChange:function(e){r(Object(v.a)({},a,{simultaneous_options:Object(v.a)({},a.simultaneous_options,{detect_key_down_uninterruptedly:e.target.checked})}))}}),label:"Detect Key Down Uninterruptedly"}),l.a.createElement(h.a,{fullWidth:!0,variant:"filled"},l.a.createElement(k.a,{id:"key_down_order"},"Key Down Order"),l.a.createElement(g.a,{labelId:"key_down_order",value:null===(i=a.simultaneous_options)||void 0===i?void 0:i.key_down_order,onChange:function(e){r(Object(v.a)({},a,{simultaneous_options:Object(v.a)({},a.simultaneous_options,{key_down_order:e.target.value})}))}},ce.map((function(e){return l.a.createElement(O.a,{value:e,key:e},E(e))})))),l.a.createElement(h.a,{fullWidth:!0,variant:"filled"},l.a.createElement(k.a,{id:"key_up_order"},"Key Up Order"),l.a.createElement(g.a,{labelId:"key_up_order",value:null===(c=a.simultaneous_options)||void 0===c?void 0:c.key_up_order,onChange:function(e){r(Object(v.a)({},a,{simultaneous_options:Object(v.a)({},a.simultaneous_options,{key_up_order:e.target.value})}))}},ce.map((function(e){return l.a.createElement(O.a,{value:e,key:e},E(e))})))),l.a.createElement(h.a,{fullWidth:!0,variant:"filled"},l.a.createElement(k.a,{id:"key_up_when"},"Key Up When"),l.a.createElement(g.a,{labelId:"key_up_when",value:null===(d=a.simultaneous_options)||void 0===d?void 0:d.key_up_when,onChange:function(e){r(Object(v.a)({},a,{simultaneous_options:Object(v.a)({},a.simultaneous_options,{key_up_when:e.target.value})}))}},de.map((function(e){return l.a.createElement(O.a,{value:e,key:e},E(e))})))),l.a.createElement(m.a,{mt:1},null===(s=a.simultaneous_options)||void 0===s?void 0:null===(f=s.to_after_key_up)||void 0===f?void 0:f.map((function(e,t){return l.a.createElement(ue,{toObject:e,setToObject:function(e){var n=Object(v.a)({},a),l=Object(_.a)(n.simultaneous_options.to_after_key_up);l[t]=e,n.simultaneous_options={to_after_key_up:l},r(n)},removeToObject:function(){},index:t,toField:"to_after_key_up",key:t})})),l.a.createElement(p.a,{color:"default",variant:"contained",fullWidth:!0,onClick:function(){var e=Object(v.a)({},a),t=Object(v.a)({},e.simultaneous_options),n=t.to_after_key_up?Object(_.a)(t.to_after_key_up):[];n.push({}),t.to_after_key_up=n,e.simultaneous_options=t,r(e)}},"Add to_after_key_up event")))))}),[a])},me=["to","to_if_alone","to_if_held_down","to_after_key_up"],ve=["to_if_invoked","to_if_canceled"],fe=function(e){var a=e.to,t=e.index,n=e.toField,o=e.manipulator,i=e.ruleIndex,r=e.manipulatorIndex,u=Object(v.a)({},a),c=Object(Z.b)(),d=function(e){return c(le({manipulator:e,ruleIndex:i,index:r}))},s={toObject:u,setToObject:function(e){var a=Object(v.a)({},o);if(ve.includes(n)){var l=Object(v.a)({},a.to_delayed_action);l[n]=Object(_.a)(l[n]),l[n][t]=e,a.to_delayed_action=l}else{var i=Object(_.a)(a[n]);i[t]=e,a[n]=i}d(a)},removeToObject:function(){var e=Object(v.a)({},o);if(ve.includes(n)){var a=Object(v.a)({},e.to_delayed_action);a[n]=Object(_.a)(a[n]),a[n].splice(t,1),e.to_delayed_action=a}else{var l=Object(_.a)(e[n]);l.splice(t,1),e[n]=l}d(e)},index:t,toField:n};return l.a.createElement(ue,Object.assign({},s,{key:t}))},pe=function(e){var a,t,n,o,i=e.manipulator,r=e.ruleIndex,u=e.manipulatorIndex,c=Object(Z.b)(),d=function(e){c(oe({manipulatorIndex:u,ruleIndex:r,toField:e}))},s=((null===i||void 0===i?void 0:null===(a=i.to_delayed_action)||void 0===a?void 0:null===(t=a.to_if_canceled)||void 0===t?void 0:t.length)||0)+((null===i||void 0===i?void 0:null===(n=i.to_delayed_action)||void 0===n?void 0:null===(o=n.to_if_invoked)||void 0===o?void 0:o.length)||0);return l.a.createElement(m.a,null,me.map((function(e,a){var t;return l.a.createElement(m.a,{mb:2,key:e},(null===(t=i[e])||void 0===t?void 0:t.length)?l.a.createElement(w,{key:a,title:"".concat(i[e].length,' "').concat(E(e),'" Events')},i[e].map((function(a,t){return l.a.createElement(fe,{to:a,index:t,toField:e,key:t,ruleIndex:r,manipulatorIndex:u,manipulator:i})})),l.a.createElement(m.a,{mt:2},l.a.createElement(p.a,{variant:"contained",color:"primary",onClick:function(){d(e)},fullWidth:!0},"add ",e," event"))):l.a.createElement(m.a,{mt:2},l.a.createElement(p.a,{variant:"contained",color:"primary",onClick:function(){d(e)},fullWidth:!0},"add ",e," event")))})),l.a.createElement(w,{title:"".concat(s,' "To Delayed Action" Events')},ve.map((function(e){var a,t;return l.a.createElement(m.a,{key:e},(null===i||void 0===i?void 0:null===(a=i.to_delayed_action)||void 0===a?void 0:null===(t=a[e])||void 0===t?void 0:t.length)?l.a.createElement(w,{key:e,title:"".concat(i.to_delayed_action[e].length,' "').concat(E(e),'" Events')},i.to_delayed_action[e].map((function(a,t){return l.a.createElement(fe,{to:a,index:t,toField:e,key:t,ruleIndex:r,manipulatorIndex:u,manipulator:i})})),l.a.createElement(m.a,{mt:2},l.a.createElement(p.a,{variant:"contained",color:"primary",size:"small",onClick:function(){d(e)}},"Add ",e," Event"))):l.a.createElement(m.a,{mb:2},l.a.createElement(p.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){d(e)}},"Add ",e," Event")))}))))},_e=function(e){var a=e.label,t=e.value,o=e.options,i=e.onChange,r=void 0===i?function(){}:i;return Object(n.useMemo)((function(){return l.a.createElement(h.a,{variant:"filled",fullWidth:!0},l.a.createElement(k.a,{id:"type"},a),l.a.createElement(g.a,{labelId:"type",value:t,onChange:r},o.map((function(e){return l.a.createElement(O.a,{value:e,key:e},E(e))}))))}),[a,t,o])},be=["basic","frontmost_application_if","frontmost_application_unless","device_if","device_unless","keyboard_type_if","keyboard_type_unless","input_source_if","input_source_unless","variable_if","variable_unless","event_changed_if","event_changed_unless"],ye=function(e){var a=e.manipulator,t=e.ruleIndex,o=e.index,i=Object(Z.b)(),r=function(e){i(le({ruleIndex:t,index:o,manipulator:e}))};return Object(n.useMemo)((function(){var e;return l.a.createElement(w,{panelProps:{defaultExpanded:!0},title:"".concat(y(o+1)," Manipulator")},l.a.createElement(_e,{label:"Type",value:a.type,options:be,onChange:function(e){i(le({manipulator:Object(v.a)({},a,{type:e.target.value}),index:o,ruleIndex:t}))}}),l.a.createElement(w,{panelProps:{defaultExpanded:!0},title:'"From" Event'},l.a.createElement(se,{fromObject:a.from,manipulatorIndex:o,ruleIndex:t})),l.a.createElement(pe,{manipulator:a,ruleIndex:t,manipulatorIndex:o}),!!(null===(e=a.conditions)||void 0===e?void 0:e.length)&&l.a.createElement(w,{panelProps:{defaultExpanded:!0},title:"Rule Conditions"},a.conditions.map((function(e,t){return l.a.createElement(H,{key:t,index:t,condition:e,setManipulator:r,manipulator:a})}))),l.a.createElement(m.a,{marginTop:1},l.a.createElement(p.a,{color:"primary",variant:"contained",fullWidth:!0,onClick:function(){!function(){var e=Object(v.a)({},a);e.conditions=e.conditions||[];var t=Object(_.a)(e.conditions);t.push({type:"frontmost_application_if"}),e.conditions=t,r(e)}()}},"Add Condition")))}),[a])},Ee=function(e){var a=e.rule,t=e.index,o=Object(Z.b)();return Object(n.useMemo)((function(){return l.a.createElement(w,{title:l.a.createElement(f.a,{label:"".concat(y(t+1)," Rule Description"),value:a.description,onClick:function(e){return e.stopPropagation()},onFocus:function(e){return e.stopPropagation()},onChange:function(e){return o(function(e,a){return{type:"SET_RULE",payload:{index:e,rule:a}}}(t,Object(v.a)({},a,{description:e.target.value})))},multiline:!0,fullWidth:!0}),panelProps:{defaultExpanded:0===t}},l.a.createElement(m.a,{justifyContent:"flex-end"},l.a.createElement(p.a,{variant:"text",size:"small",color:"secondary",onClick:function(){return o(function(e){return{type:"REMOVE_RULE",payload:{index:e}}}(t))}},"Delete Rule!")),l.a.createElement(m.a,{mt:2},a.manipulators.map((function(e,a){return l.a.createElement(ye,{manipulator:e,key:a,index:a,ruleIndex:t})}))),l.a.createElement(m.a,{mt:2},l.a.createElement(p.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return o({type:"ADD_MANIPULATOR",payload:{ruleIndex:t}})}},"Add Manipulator")))}),[a])},he=t(72),ke=t.n(he),ge=t(35),Oe=t.n(ge),je=["to","to_if_alone","to_if_held_down","to_after_key_up"],Ce=function(e){var a;return"string"===typeof e?a=JSON.parse(e):"object"===typeof e&&(a=Object(v.a)({},e)),a.rules=a.rules.map((function(e){return e.description=e.description||"",e.manipulators=e.manipulators||[],e.manipulators=e.manipulators.map((function(e){if(e.type=e.type||"basic",e.from=e.from||{modifiers:{mandatory:[],optional:[]},simultaneous:[],simultaneous_options:{detect_key_down_uninterruptedly:!1,to_after_key_up:[]}},"string"===typeof e.from.key_code){var a=e.from.key_code;e.from.key_code=Oe.a.find(q,{value:a})||{label:a,value:a}}return e.conditions=e.conditions||[],e.to=e.to||[],e.to_after_key_up=e.to_after_key_up||[],e.to_if_alone=e.to_if_alone||[],e.to_if_held_down=e.to_if_held_down||[],e.to_delayed_action=e.to_delayed_action||{to_if_invoked:[],to_if_canceled:[]},e})),e})),a},xe=function(e){return"string"===typeof e?e:e.value||""},Ie=function(e){return e.map(xe)},we=function(e){var a,t=Object(v.a)({},e);return(null===e||void 0===e?void 0:null===(a=e.description)||void 0===a?void 0:a.length)||delete e.description,e.manipulators=e.manipulators.map((function(e){var a,t,n,l,o;return e.from=function(e){var a,t,n,l,o=Object(v.a)({},e);if(!Oe.a.isEmpty(o)){if("object"===typeof o.key_code&&o.key_code&&(o.key_code=xe(o.key_code)),o.modifiers){var i;if(o.modifiers.mandatory)0===(null===(i=o.modifiers.mandatory)||void 0===i?void 0:i.length)?delete o.modifiers.mandatory:("string"===typeof o.modifiers.mandatory&&(o.modifiers.mandatory=[o.modifiers.mandatory]),o.modifiers.mandatory=Ie(o.modifiers.mandatory));o.modifiers.optional&&(0===o.modifiers.optional.length?delete o.modifiers.optional:("string"===typeof o.modifiers.optional&&(o.modifiers.optional=[o.modifiers.optional]),o.modifiers.optional=Ie(o.modifiers.optional)))}return 0===(null===o||void 0===o?void 0:null===(a=o.simultaneous_options)||void 0===a?void 0:null===(t=a.to_after_key_up)||void 0===t?void 0:t.length)&&delete o.simultaneous_options.to_after_key_up,0===(null===o||void 0===o?void 0:null===(n=o.simultaneous)||void 0===n?void 0:n.length)&&delete o.simultaneous,(null===o||void 0===o?void 0:null===(l=o.simultaneous)||void 0===l?void 0:l.length)&&(o.simultaneous=o.simultaneous.map((function(e){return e.key_code&&(e.key_code=xe(e.key_code)),e}))),Oe.a.isEqual(o.simultaneous_options,{detect_key_down_uninterruptedly:!1})&&delete o.simultaneous_options,o.pointing_button&&"disabled"!==o.pointing_button||delete o.pointing_button,Oe.a.isEmpty(o.modifiers)&&delete o.modifiers,o}}(e.from),je.forEach((function(a){var t;e[a]&&(0!==(null===(t=e[a])||void 0===t?void 0:t.length)?e[a]=e[a].map((function(e){return function(e){var a,t=Object(v.a)({},e);return"object"===typeof t.key_code&&(t.key_code=xe(e.key_code)),(null===(a=t.modifiers)||void 0===a?void 0:a.length)&&(t.modifiers=Ie(t.modifiers)),t}(e)})):delete e[a])})),0===(null===e||void 0===e?void 0:null===(a=e.to_delayed_action)||void 0===a?void 0:null===(t=a.to_if_invoked)||void 0===t?void 0:t.length)&&delete e.to_delayed_action.to_if_invoked,0===(null===e||void 0===e?void 0:null===(n=e.to_delayed_action)||void 0===n?void 0:null===(l=n.to_if_canceled)||void 0===l?void 0:l.length)&&delete e.to_delayed_action.to_if_canceled,Oe.a.isEmpty(null===e||void 0===e?void 0:e.to_delayed_action)&&delete e.to_delayed_action,0===(null===e||void 0===e?void 0:null===(o=e.conditions)||void 0===o?void 0:o.length)&&delete e.conditions,e})),t},Se=function(){var e=Object(Z.c)((function(e){return e})),a=Object(Z.b)();Object(n.useEffect)((function(){try{var e=JSON.parse(window.atob(window.location.href.slice(window.location.href.indexOf("#")+1)));a(ne(Ce(e)))}catch(t){}}),[]);var t=function(e){var a=Oe.a.cloneDeep(e);return a.rules=a.rules.map((function(e){return we(e)})),a}(e),o=Object(n.useMemo)((function(){return l.a.createElement(m.a,{m:1},l.a.createElement(f.a,{fullWidth:!0,onChange:function(e){return a({type:"SET_TITLE",payload:{title:e.target.value}})},value:e.title,variant:"outlined",label:"Modification Title"}))}),[e.title]);return l.a.createElement(u.a,{className:"app-container"},l.a.createElement(d.a,{container:!0,direction:"row",justify:"space-between"},l.a.createElement(d.a,{item:!0,xs:8,className:"form-wrapper"},o,l.a.createElement(m.a,{p:1},e.rules.map((function(e,a){return l.a.createElement(Ee,{index:a,key:a,rule:e})})),l.a.createElement(m.a,{mt:2},l.a.createElement(p.a,{onClick:function(){return a({type:"ADD_RULE"})},fullWidth:!0,color:"primary",variant:"contained",startIcon:l.a.createElement(ke.a,null)},"Rule")))),l.a.createElement(d.a,{container:!0,xs:4,item:!0,direction:"column"},l.a.createElement(m.a,{p:2},l.a.createElement(s.a,null,"Your Modification"),l.a.createElement("textarea",{className:"generated-code",readOnly:!0,value:JSON.stringify(t,null,2)}),l.a.createElement(m.a,{mt:1,mb:1},l.a.createElement(S.a,{fullWidth:!0},l.a.createElement(p.a,{onClick:function(){var e=window.btoa(JSON.stringify(t)),a="karabiner://karabiner/assets/complex_modifications/import?url=data:application/json;charset=utf-8;base64,".concat(e);window.location.href=a},color:"primary",variant:"contained"},"Install!"),l.a.createElement(p.a,{onClick:function(){var e=window.btoa(JSON.stringify(t));window.history.replaceState(void 0,"","#"+e),alert("copy the url in your addess bar to share")},color:"primary",variant:"contained"},"Share!"))),l.a.createElement("textarea",{placeholder:"Paste existing modification here to edit",className:"paste-code",onBlur:function(e){try{e.target.value&&a(ne(Ce(e.target.value)))}catch(e){console.log({e:e})}}})))))},Te=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(r.a,{position:"static"},l.a.createElement(u.a,null,l.a.createElement(c.a,{variant:"dense"},l.a.createElement(d.a,{xs:!0,item:!0},l.a.createElement(s.a,null,"Karabiner Complex Modification | Still a work in progress")),l.a.createElement(d.a,{xs:3,item:!0,container:!0,justify:"flex-end"},l.a.createElement("a",{className:"github-button",href:"https://github.com/genesy/karabiner-complex-rules-generator","data-icon":"octicon-star","data-size":"large","data-show-count":"true","aria-label":"Star genesy/karabiner-complex-rules-generator on GitHub"},"Star"))))),l.a.createElement(m.a,{marginTop:1},l.a.createElement(Se,null)))},Fe=t(55),Ae=Object(Fe.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,a=arguments.length>1?arguments[1]:void 0;return Object($.a)(e,(function(e){switch(a.type){case"SET_WHOLE_STATE":e.title=a.payload.state.title,e.rules=a.payload.state.rules;break;case"REMOVE_RULE":e.rules.splice(a.payload.index,1);break;case"SET_TITLE":e.title=a.payload.title;break;case"ADD_RULE":e.rules.push(ae());break;case"SET_RULE":if(a.payload){var t=a.payload,n=t.rule,l=t.index;e.rules[l]=n}break;case"ADD_MANIPULATOR":if(a.payload){var o=a.payload.ruleIndex;e.rules[o].manipulators.push(ee)}break;case"SET_MANIPULATOR":if(a.payload){var i=a.payload,r=i.ruleIndex,u=i.index,c=i.manipulator;e.rules[r].manipulators[u]=c}break;case"SET_FROM_OBJECT":if(a.payload){var d=a.payload,s=d.ruleIndex,m=d.manipulatorIndex,v=d.fromObject;e.rules[s].manipulators[m].from=v}break;case"ADD_TO_OBJECT":if(a.payload){var f=a.payload,p=f.toField,_=f.ruleIndex,b=f.manipulatorIndex,y={repeat:!0},E=e.rules[_].manipulators[b];"to_if_canceled"===p||"to_if_invoked"===p?"to_if_canceled"===p?E.to_delayed_action.to_if_canceled.push(y):E.to_delayed_action.to_if_invoked.push(y):E[p].push(y)}break;case"SET_TO_OBJECT":if(a.payload){var h=a.payload,k=h.toField,g=h.ruleIndex,O=h.manipulatorIndex,j=h.toIndex,C=h.toObject;e.rules[g].manipulators[O][k][j]=C}}}))}));var Ke=function(){return l.a.createElement(Z.a,{store:Ae},l.a.createElement("div",{className:"App"},l.a.createElement(Te,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(Ke,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[83,1,2]]]);
//# sourceMappingURL=main.b333ebc1.chunk.js.map